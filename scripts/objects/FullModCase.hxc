import funkin.modding.PolymodHandler;
import funkin.modding.base.ScriptedFlxSpriteGroup;

import flixel.FlxG;
import flixel.FlxSprite;
import flixel.addons.effects.FlxSkewedSprite;
import flixel.graphics.FlxGraphic;
import flixel.math.FlxPoint;
import flixel.text.FlxText;
import flixel.text.FlxTextFormat;
import flixel.text.FlxTextBorderStyle;
import flixel.tweens.FlxEase;
import flixel.tweens.FlxTween;
import flixel.util.FlxTimer;

import haxe.Unserializer;

import openfl.display.BitmapData;

import polymod.Polymod;

class FullModCase extends ScriptedFlxSpriteGroup {

  var caseSprite:FlxSprite;

  var metadata:ModMetadata;

  var fileSystem:Dynamic;

	public function new()
  {
		super("FullModCase");

    // FileSystem workaround! (found from https://github.com/Burgerballs/ModBootstrap/, thank you SO much vro)
    fileSystem = Unserializer.DEFAULT_RESOLVER.resolveClass('sys.FileSystem');

    caseSprite = new FlxSprite(0, 0).loadGraphic(Paths.image("modmenu/modCaseFull"));
    add(caseSprite);

    var modTitle:FlxText = new FlxText(25 , 61, 590, "Mod Name", 32);
    modTitle.font = "Pixel Arial 11";
    modTitle.borderColor = 0xff5F91C1;
    modTitle.borderSize = 5;
    modTitle.borderStyle = FlxTextBorderStyle.OUTLINE;
    modTitle.bold = true;
    //if (modTitle.text.length > 16) modTitle.text = modTitle.text.substring(0, 16) + "...";
    add(modTitle);

    var modAuthors:FlxText = new FlxText(271 - 12.5, 220 - 12.5, 590, "Author One - Programming \n\nAuthor Two - Art \n\nAuthor Three - Music", 32);
    modAuthors.font = "5by7";
    modAuthors.borderColor = 0xff5F91C1;
    modAuthors.borderSize = 2;
    modAuthors.borderStyle = FlxTextBorderStyle.OUTLINE;
    //modAuthors.bold = true;
    //if (modAuthors.text.length > 26) modAuthors.text = modAuthors.text.substring(0, 26) + "...";
    add(modAuthors);

    var modDescription:FlxText = new FlxText(12.5, 134, 241 - 25, "Mod description here. this might be really long, or really short. maybe people will be lazy and not put one at all. oh well!", 24);
    modDescription.font = "5by7";
    modDescription.borderColor = 0xffDA4E89;
    modDescription.borderSize = 2;
    modDescription.borderStyle = FlxTextBorderStyle.OUTLINE;
    add(modDescription);
	}

  override function update(elapsed:Float):Void
  {
    super.update(elapsed);
  }
}
